---
layout: single
title: "[openGL]íƒœì–‘ê³„-(1)"
categories: OpenGL
tags: [opengl, ë³€í™˜, íƒœì–‘ê³„]
sidebar:
    nav: "counts"
---

# íƒœì–‘ê³„

íƒœì–‘ê³„ì— ëŒ€í•œ ì‹œë®¬ë ˆì´ì…˜ì„ ì§ì ‘ ì½”ë“œë¡œ ì‘ì„±í•˜ê¸° ìœ„í•´ ì•ì—ì„œ ë³€í™˜ì´ë¼ëŠ” ì´ë¡ ì„ í–‰ë ¬ì„ ê¸°ë°˜ìœ¼ë¡œ ìì„¸íˆ ì•Œì•„ë³´ì•˜ê³  ì´ì œë¶€í„°ëŠ” ì‹¤ìŠµì„ í†µí•´ openGLì—ì„œì˜ ë³€í™˜ì„ ì•Œì•„ë³´ë ¤ê³  í•œë‹¤.

## ë³€í™˜ í•¨ìˆ˜

### ğŸ“Œ ìœ„ì¹˜ ì´ë™ ë³€í™˜

ìœ„ì¹˜ ì´ë™ ë³€í™˜ì€ translationì„ ì´ì•¼ê¸° í•œë‹¤. 

`glTranslatef(tx,ty,tx);`

ì‹¤ìˆ˜í˜•ìœ¼ë¡œ ìœ„ì¹˜ë¥¼ ì´ë™ì‹œí‚¤ê³  ê° x,y,z ë§Œí¼ ì´ë™ì‹œí‚¨ë‹¤ëŠ” ëœ»ì´ë‹¤.

ì •ìˆ˜í˜•ìœ¼ë¡œ ìœ„ì¹˜ë¥¼ ì´ë™ì‹œí‚¤ê³  ì‹¶ë‹¤ë©´ `glTranslated`ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.



### ğŸ“Œ íšŒì „ ë³€í™˜

íšŒì „ ë³€í™˜ì€ Rotationìœ¼ë¡œ íšŒì „ê°ë„ì™€ íšŒì „ì¶• 3ê°œì˜ ë³€ìˆ˜ê°€ í•„ìš”í•˜ë‹¤.

ì‚¬ìš© ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤.

`glRotatef(theta, rx, ry, rz);` 	ì‹¤ìˆ˜

`glRotated(theta, rx, ry, rz);`	 ì •ìˆ˜ 

theta : íšŒì „ ê°ë„ , rx/ry/rz : íšŒì „ì¶• (ë§Œì•½, rz=1.0ì´ë©´ zì¶• ê¸°ì¤€ìœ¼ë¡œ íšŒì „í•¨)



### ğŸ“Œ í¬ê¸° ë³€í™˜

í¬ê¸° ë³€í™˜ì€ Scalingìœ¼ë¡œ í™•ëŒ€ì™€ ì¶•ì†Œì— ëŒ€í•œ ê²ƒì„ ë‚˜íƒ€ë‚¸ë‹¤.

ì‚¬ìš© ë°©ë²•ì€ `glScalef(SX,SY,SZ);` ë¡œ í¬ê¸°ë¥¼ ê° ì¢Œí‘œë¥¼ ì§€ì •í•´ í™•ëŒ€í•˜ê³  ì¶•ì†Œë¥¼ ì‹œí‚¬ ìˆ˜ ìˆë‹¤. 

ì—¬ê¸°ì„  ì‹¤ìˆ˜í˜•ì„ ì‚¬ìš©í–ˆì§€ë§Œ ì •ìˆ˜í˜•ìœ¼ë¡œë„ ë³€í™˜ì‹œí‚¬ ìˆ˜ ìˆë‹¤. 

`glScaled(SX,SY,SZ);`



### â­ ê°ì¢… ì˜ˆì‹œ

![image-20230409155625771](../images/2023-04-09-gl4/image-20230409155625771.png)

1. ë°˜ì§€ë¦„ì´ 3.0ì¸ ë¹¨ê°„ìƒ‰ ì›ì„ ê·¸ë¦°ë‹¤.
2. `glTranslatef`ë¡œ ë¹¨ê°„ ì›ì—ì„œ xì¶•ì€ +3ë§Œí¼, yì¶•ì€ +5ë§Œí¼ ì¢Œí‘œë¥¼ ì´ë™
3. (3,5) ì¢Œí‘œì— ë°˜ì§€ë¦„ì´ 2.0ì¸ ì´ˆë¡ìƒ‰ ì›ì„ ê·¸ë¦°ë‹¤.

#### ğŸ”¥ì‹¤ì „

ìœ„ í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ì‹¤ì „ì—ì„œ íƒœì–‘-ì§€êµ¬-ë‹¬ì˜ ì½”ë“œë¥¼ ì‘ì„±í•´ ë³´ì

```java
#define		PI	3.1415926

int			Width = 800;
int			Height = 800;

float		sun_radius = 50.0;	// íƒœì–‘ ë°˜ì§€ë¦„
float		earth_radius = 10.0;	// ì§€êµ¬ ë°˜ì§€ë¦„
float		moon_radius = 5.0;	// ë‹¬ ë°˜ì§€ë¦„
float		earthRotation = 0.0, moonRotation = 0.0;
float		earthTransforms = 200.0, moonTransforms = 30.0;

float		earth_rotation_speed = 0.005;
float		moon_rotation_speed = 0.05;

// í–‰ì„± ê·¸ë¦¬ê¸° 
void Draw_Circle(float c_radius) {
	float	delta;
	int		num = 36;

	delta = 2 * PI / num;
	glBegin(GL_POLYGON);
	for (int i = 0; i < num; i++)
		glVertex2f(c_radius*cos(delta*i), c_radius*sin(delta*i));
	glEnd();
}

void RenderScene(void) {
	glClear(GL_COLOR_BUFFER_BIT);
	glClearColor(0.0, 0.0, 0.0, 0.0); // Set display-window color to black.

	earthRotation += earth_rotation_speed;	
	moonRotation += moon_rotation_speed;

	/***********ì½”ë“œ ì‘ì„±í•˜ê¸° ***************/
	// íƒœì–‘ : ë¹¨ê°„ìƒ‰ì˜ êµ¬ 
	glColor3f(1.0, 0.0, 0.0);
	Draw_Circle(sun_radius);
	


	// ì§€êµ¬ : íŒŒë€ìƒ‰ì˜ êµ¬
	glColor3f(0.0, 0.0, 1.0);
	glRotatef(earthRotation, 0.0, 0.0, 1.0); // íƒœì–‘ ê¸°ì¤€ì—ì„œ earthRotation ë§Œí¼ zì¶• ê¸°ì¤€ìœ¼ë¡œ íšŒì „ 
	glTranslatef(earthTransforms, 0.0, 0.0); // íƒœì–‘ì˜ ì¢Œí‘œì—ì„œ xì¶•ë§Œ +200 ì´ë™
	Draw_Circle(earth_radius);	//	ì§€êµ¬ë¥¼ ê·¸ë¦°ë‹¤
	

	// ë‹¬   : ë…¸ë‘ìƒ‰ì˜ êµ¬ 
	glColor3f(1.0, 1.0, 0.0);
	glRotatef(moonRotation, 0.0, 0.0, 1.0);	// ì§€êµ¬ ê¸°ì¤€ìœ¼ë¡œ ë‹¬ì´ moonRotation ë§Œí¼ zì¶• ê¸°ì¤€ìœ¼ë¡œ íšŒì „ 
	glTranslatef(moonTransforms, 0.0, 0.0); // ì§€êµ¬ì˜ ì¢Œí‘œì—ì„œ xì¶•ë§Œ +30 ì´ë™
	Draw_Circle(moon_radius);	//	ë‹¬ì„ ê·¸ë¦°ë‹¤.

	glFlush();
	glutSwapBuffers();
}

```

#### ğŸš¨ì˜¤ë¥˜

ì´ì²˜ëŸ¼ ì‘ì„±í•˜ë©´ ë…¼ë¦¬ì ìœ¼ë¡œëŠ” ë§ì„ì§€ ëª°ë¼ë„ ì§ì ‘ ëŒë ¤ë³´ë©´ ì„¸ê°œì˜ êµ¬ê°€ ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. ê·¸ ì´ìœ ëŠ” ì•„ë˜ì˜ Push/PopMatrix í•¨ìˆ˜ ë•Œë¬¸ì´ë‹¤.. ì´ê²ƒì„ í•´ì£¼ì§€ ì•Šìœ¼ë©´ ì¢Œí‘œê°€ ì €ì¥ë˜ì§€ ì•Šì•„ì„œ ìê¾¸ ì›ì ì„ ê¸°ì¤€ìœ¼ë¡œ ì›ì„ ìƒì„±í•˜ê³  íšŒì „ì‹œì¼œì„œ íƒœì–‘ë§Œ ë³´ì´ê³  ë‹¤ë¥¸ í–‰ì„±ë“¤ì€ ë³´ì´ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤!! 

ìì„¸í•œ ê±´ ì•„ë˜ì—ì„œ ì•Œì•„ë³´ê² ë‹¤..!

## PushMatrix()ì™€ PopMatrix()

### ğŸ“ŒPushMatrix()

ìœ„ í•¨ìˆ˜ê°€ ë¶ˆë¦¬ê¸° ì „ì˜ ë³€í™˜ ì¢Œí‘œë¥¼ ì €ì¥í•˜ëŠ” í•¨ìˆ˜

íƒœì–‘ê³„ì—ì„œ ì˜ˆë¥¼ ë“¤ë©´ ì§€êµ¬ë¥¼ ê·¸ë¦´ ë•Œ íƒœì–‘ì˜ ì¢Œí‘œì—ì„œ xê°€ ì´ë™í•œ í›„ì— ê·¸ë ¤ì•¼í•  ë•Œ ì‚¬ìš©í•¨

ë‹¬ë„ ë˜‘ê°™ìŒ!!

```java
// ì§€êµ¬ : íŒŒë€ìƒ‰ì˜ êµ¬
	glColor3f(0.0, 0.0, 1.0);
	glPushMatrix();	//	íƒœì–‘ì˜ ë³€í™˜ ì¢Œí‘œë¥¼ ì €ì¥í•´ ë†“ìŒ
		glRotatef(earthRotation, 0.0, 0.0, 1.0); 
    	// íƒœì–‘ ê¸°ì¤€ì—ì„œ earthRotation ë§Œí¼ zì¶• ê¸°ì¤€ìœ¼ë¡œ íšŒì „ 
		glTranslatef(earthTransforms, 0.0, 0.0); 
    	// íƒœì–‘ì˜ ì¢Œí‘œì—ì„œ xì¶•ë§Œ +200 ì´ë™
		Draw_Circle(earth_radius);	//	ì§€êµ¬ë¥¼ ê·¸ë¦°ë‹¤
```



### ğŸ“ŒPopMatrix()

glPushMatrix() ì´ì „ì˜ ì¢Œí‘œ ìƒíƒœë¥¼ ë‹¤ì‹œ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. 

### â­ ê°ì¢… ì˜ˆì‹œ

![image-20230409161221345]({{site.url}}/images/2023-04-09-gl4/image-20230409161221345.png)

0. push

1. í˜„ì¬ ì¢Œí‘œ(0.0) ê¸°ì–µí•œë‹¤.
2. xì¶• +5 ì´ë™ í›„, zì¶•ì„ ê¸°ì¤€ìœ¼ë¡œ 45ë„ íšŒì „í•œ ë°˜ì§€ë¦„ì´ 2.0ì¸ ì´ˆë¡ìƒ‰ ì‚¬ê°í˜•ì„ ê·¸ë¦°ë‹¤.
3. pop
4. ë‹¤ì‹œ ì›ì ì—ì„œ ë°˜ì§€ë¦„ì´ 3.0ì¸ ë¹¨ê°„ìƒ‰ ì›ì„ ê·¸ë¦°ë‹¤.



# ğŸ”¥íƒœì–‘ê³„ ì½”ë“œ

```java
/*
glPushMatrix() ì´ í•¨ìˆ˜ê°€ ë¶ˆë¦¬ê¸° ì „ì˜ ë³€í™˜ ì¢Œí‘œë¥¼ ì €ì¥í•´ ë†“ëŠ”ë‹¤.
glPopMatrix() ë¥¼ ì‚¬ìš©í•´ glPushMatrix() ì´ì „ì˜ ì¢Œí‘œ ìƒíƒœë¥¼ ë‹¤ì‹œ í˜¸ì¶œí•œë‹¤.
*/

#include <windows.h>
#include <math.h>
#include <gl/gl.h>
#include <gl/glut.h> // (or others, depending on the system in use)

#define		PI	3.1415926

int			Width = 800;
int			Height = 800;

float		sun_radius = 50.0;
float		earth_radius = 10.0;
float		moon_radius = 5.0;
float		earthRotation = 0.0, moonRotation = 0.0;
float		earthTransforms = 200.0, moonTransforms = 30.0;

float		earth_rotation_speed = 0.005;
float		moon_rotation_speed = 0.05;


void init(void) {
	glMatrixMode(GL_PROJECTION);
	glLoadIdentity();
	gluOrtho2D(-1.0*Width/2.0, Width/2.0, -1.0*Height/2.0, Height/2.0);
}

//	í–‰ì„± ê·¸ë¦¬ê¸°
void Draw_Circle(float c_radius) {
	float	delta;
	int		num = 36;

	delta = 2 * PI / num;
	glBegin(GL_POLYGON);
	for (int i = 0; i < num; i++)
		glVertex2f(c_radius*cos(delta*i), c_radius*sin(delta*i));
	glEnd();
}

void RenderScene(void) {
	glClear(GL_COLOR_BUFFER_BIT);
	glClearColor(0.0, 0.0, 0.0, 0.0); 

	earthRotation += earth_rotation_speed;	
	moonRotation += moon_rotation_speed;

	/***********ì½”ë“œ ì‘ì„±í•˜ê¸° ***************/
	// íƒœì–‘ : ë¹¨ê°„ìƒ‰ì˜ êµ¬ 
	glColor3f(1.0, 0.0, 0.0);
	Draw_Circle(sun_radius);
	


	// ì§€êµ¬ : íŒŒë€ìƒ‰ì˜ êµ¬
	glColor3f(0.0, 0.0, 1.0);
	glPushMatrix();	//	íƒœì–‘ì˜ ë³€í™˜ ì¢Œí‘œë¥¼ ì €ì¥í•´ ë†“ìŒ
		glRotatef(earthRotation, 0.0, 0.0, 1.0); 
    	// íƒœì–‘ ê¸°ì¤€ì—ì„œ earthRotation ë§Œí¼ zì¶• ê¸°ì¤€ìœ¼ë¡œ íšŒì „ 
		glTranslatef(earthTransforms, 0.0, 0.0); 
    	// íƒœì–‘ì˜ ì¢Œí‘œì—ì„œ xì¶•ë§Œ +200 ì´ë™
		Draw_Circle(earth_radius);	//	ì§€êµ¬ë¥¼ ê·¸ë¦°ë‹¤
	

	// ë‹¬   : ë…¸ë‘ìƒ‰ì˜ êµ¬ 
		glPushMatrix();	//	ì§€êµ¬ì˜ ë³€í™˜ ì¢Œí‘œë¥¼ ì €ì¥í•´ ë†“ìŒ 
			glColor3f(1.0, 1.0, 0.0);
			glRotatef(moonRotation, 0.0, 0.0, 1.0);	
    		// ì§€êµ¬ ê¸°ì¤€ìœ¼ë¡œ ë‹¬ì´ moonRotation ë§Œí¼ zì¶• ê¸°ì¤€ìœ¼ë¡œ íšŒì „ 
			glTranslatef(moonTransforms, 0.0, 0.0); 
    		// ì§€êµ¬ì˜ ì¢Œí‘œì—ì„œ xì¶•ë§Œ +30 ì´ë™
			Draw_Circle(moon_radius);	//	ë‹¬ì„ ê·¸ë¦°ë‹¤.
		glPopMatrix();	//	ì§€êµ¬ ë³€í™˜ ì¢Œí‘œë¡œ ë³µêµ¬
	glPopMatrix();	//	íƒœì–‘ì˜ ë³€í™˜ ì¢Œí‘œë¡œ ë³µêµ¬
	glPopMatrix();	//	íƒœì–‘ ì „ì˜ ë³€í™˜ ì¢Œí‘œë¡œ ë³µêµ¬ 

	glFlush();
	glutSwapBuffers();
}


void main(int argc, char** argv) {
	glutInit(&argc, argv);
	glutInitDisplayMode(GLUT_DOUBLE | GLUT_RGB);
	glutInitWindowPosition(100, 100);
	glutInitWindowSize(Width, Height);
	glutCreateWindow("íƒœì–‘ê³„ íƒœì–‘-ì§€êµ¬-ë‹¬");
	init();
	glutDisplayFunc(RenderScene);
	glutIdleFunc(RenderScene);
	glutMainLoop();
}
```

# ğŸ“·íƒœì–‘ê³„ ê²°ê³¼

![image-20230409162821157]({{site.url}}/images/2023-04-09-gl4/image-20230409162821157.png)

![image-20230409162850431]({{site.url}}/images/2023-04-09-gl4/image-20230409162850431.png)