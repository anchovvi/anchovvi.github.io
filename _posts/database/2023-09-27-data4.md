---
layout: single
title: "데이터베이스 -4장"
categories: database
tags: [데이터베이스]
sidebar:
    nav: "counts"


---



# 4장 데이터 모델링 
## 01. 데이터 모델링과 데이터 모델의 개념
### 데이터 모델링(data modeling)
- ⭐현실세계에 존재하는 데이터를 컴퓨터 세계의 데이터베이스로 옮기는 변환 과정

- 데이터베이스 설계의 핵심 과정임 

  ![image-20230927103103692]({{site.url}}/images/2023-09-27-data4/image-20230927103103692.png)

### ⭐2단계 데이터 모델링
1. 개념적 데이터 모델링(conceptual modeling)
    - 현실 세계의 중요 데이터 추출 => 개념 세계로 옮기는 작업
2. 논리적 데이터 모델링(logical modeling)
    - 개념 세계의 데이터를 DB에 저장하는 구조로 표현하는 작업
    
    ![image-20230927103136995]({{site.url}}/images/2023-09-27-data4/image-20230927103136995.png)

### 데이터 모델(data model)
- 데이터 모델링의 결과물을 표현하는 도구


  - ⭐개념적 데이터 모델
    - `사람의 머리로 이해`할 수 있도록 `현실 세계를 개념적 모델링`해 `DB의 개념적 구조로 표현`하는 도구
    - 예) 개체 - 관계 모델


  - ⭐논리적 데이터 모델
    - `개념적 구조를 논리적 모델링`해 `DB의 논리적 구조로 표현`하는 도구
    - 예) 관계 데이터 모델
    
    ![image-20230927103204927]({{site.url}}/images/2023-09-27-data4/image-20230927103204927.png)


## ⭐02. 개체 - 관계 모델
🚨 E-R 다이어그램 그리는 법 중요함

### 개체 - 관계 모델(E-R Model; Entity Relationship Model)
- `피터 첸`이 제안한 개념적 데이터 모델
- 개체와 개체 간의 관계를 이용해 현실 세계를 개념적 구조로 표현
- 핵심요소 : 개체, 속성, 관계

관계는 순서쌍 개념으로 표현됨

### ⭐개체 - 관계 다이어그램(E-R diagram)
- E-R 다이어그램
- 개체 - 관계 모델을 이용해 현실 세계를 개념적으로 모델링한 결과물을 `그림`으로 표현한 것 

### ⭐개체(entity)
- 현실 세계에서 조직을 운영하는 데 `꼭 필요한 사람이나 사물`과 같이 `구별`되는 모든 것
- 무형의 것도 구별만 된다면 개체가 될 수 있음
- 저장할 가치가 있는 중요 데이터를 가지고 있는 `사물, 사람이나 개념, 사건 등`
- 다른 개체와 `구별`되는 이름을 가짐
- 각 개체만의 고유한 특성이나 상태, 즉 `속성을 하나 이상 가지고 있음`

  - 예) 서점에 필요한 개체 : 고객, 책  / 고객의 속성은 이름, 전화번호 등이 있음

  - 예) 학교에 필요한 개체 : 학과, 과목, 교수, 학생 

🚨 `총장`은 학교의 개체가 될 수 없다. 
    
    총장은 한 명만 존재하기 때문에 개체라고 부를 수 없다. 
    하지만, 교육청에서 DB를 구성할 때 총장은 개체라고 볼 수 있다. 
- 파일 구조의 레코드(record)와 대응

- E-R 다이어그램에서 `사각형`으로 표현하고 `사각형 안 이름 표기`

![image-20230927103241360]({{site.url}}/images/2023-09-27-data4/image-20230927103241360.png)

### ⭐속성(attribute)
- `개체나 관계가 가지고 있는 고유의 특성`

- `의미 있는 데이터의 가장 작은 논리적 단위`

- 파일 구조의 필드(filed)와 대응

- E-R 다이어그램에서 `타원`으로 표현하고 `타원 안 이름 표기`

  ![image-20230927103309480]({{site.url}}/images/2023-09-27-data4/image-20230927103309480.png)

### ⭐개체 타입(entity type)
- `개체를 고유의 이름과 속성들로 정의한 것`
- 파일 구조의 레코드 타입(record type)에 대응

### ⭐개체 인스턴스(entity instance) = 개체 어커런스
- `개체를 구성하고 있는 속성이 실제 값을 가짐으로써 실체화된 개체`
- 파일 구조의 레코드 인스턴스(record instance)에 대응

😮 학생 개체에 학과, 이름이라는 속성을 가진 데이터가 존재한다고 하자.

    실제 학생 데이터 1건이 개체 인스턴스이다. 
    즉, `20210000 홍길동`이 개체 인스턴스라는 것을 확인 할 수 있다. 

### ⭐개체 집합(entity set)
- 특정 개체 타입에 대한 `개체 인스턴스들을 모아놓은 것`

![image-20230927103338539]({{site.url}}/images/2023-09-27-data4/image-20230927103338539.png)

### ⭐속성의 분류
속성은 3가지로 분류된다.

#### ⭐1. 속성 값의 개수 
- 단일 값 속성(single-valued attribute)
  - 값을 하나만 가질 수 있는 속성
  - 예) 고객 개체의 이름, 적립금 속성, 학번, 주민번호 등 
- 다중 값 속성(multi-valued attribute)
  - 값을 여러개 가질 수 있는 속성
  - 예) 고객 개체의 연락처 속성(휴대폰, 집 전화)
  - 예) 책 개체의 저자 속성(저자가 여러명일 때),  사람의 취미
- E-R 다이어그램에서 `이중 타원`으로 표현

![image-20230927103409512]({{site.url}}/images/2023-09-27-data4/image-20230927103409512.png)

#### ⭐2. 의미의 분해 가능성
😀 목적에 따라 단순/복합의 속성이 달라진다!
- 단순 속성(simple attribute)
  - 의미를 더는 분해할 수 없는 속성
  - 예) 고객 개체의 적립금 속성
  - 예) 책 개체의 이름, ISBN, 가격 속성

- 복합 속성(composite attribute)
  - 의미를 분해할 수 있는 속성
  - 고객 개체의 주소 속성
    - 도, 시, 동, 우편번호 등으로 의미 세분화 가능
  - 고객 개체의 생년월일 속성
    - 연, 월, 일로 의미를 세분화 가능 

![image-20230927103434156]({{site.url}}/images/2023-09-27-data4/image-20230927103434156.png)

#### ⭐3. 기존 속성 값에서 유도 
- 유도 속성(derived attribute)
  - 기존의 다른 속성의 값에서 유도되어 결정되는 속성
  - 값이 별도로 저장되지 않음 => `중복성이 있어 DB에는 저장하지 않음`
  - 예) 책 개체의 가격과 할인율 속성으로 계산되는 판매가격 속성
    - 😀 판매가격 = 가격 * 할인율로 계산할 수 있어서 따로 추가하지 않아도 됨 
  - 예) 고객 개체의 출생연도 속성으로 계산되는 나이 속성
  - E-R 다이어그램에서 `점선 타원`으로 표현

![image-20230927103458282]({{site.url}}/images/2023-09-27-data4/image-20230927103458282.png)

#### 널 속성(null attribute)
- 널 값이 허용되는 속성

#### 널(null) 값
- 아직 결정되지 않았거나 모르는 값 
- 존재하지 않는 값
- 예) 등급 속성이 널 값
   -> 등급이 아직 결정되지 않았음을 의미한다. 
   😀 시험이 끝나지 않으면 등급이 나오지 않기 때문에, 그 전까지 null 값을 넣는다. 

#### ⭐키 속성(Key attribute)
- 개체 인스턴스를 식별하는데 사용되는 속성
- 모든 개체 인스턴스의 `키 속성 값이 다름`
- `둘 이상의 속성`들로 구성되기도 함 
- 예) 고객 개체의 고객아이디 속성
  
  🚨 학생 이름은 key 속성이 될 수 없다. 
  왜? 동명이인이 존재하기 때문에 유일하게 구분할 수 없으므로~~!
- E-R 다이어그램에서 `밑줄`로 표현

![image-20230927103523003]({{site.url}}/images/2023-09-27-data4/image-20230927103523003.png)

😮 다른 인스턴스와 구분하도록 한다.

    ▶ 키 값이 다 다르다.
    ▶ 유일하게 구분할 수 있어야 한다.



#### ⭐ 관계 (relationship)

- 개체와 개체가 맺고 있는 의미 있는 연관성

- 개체 집합들 사이 대응 관계 = 매핑

- 예) 고객 개체와 책 개체 간 구매 관계

  - 고객은 책을 `구매`한다. (동사로 표현되는 것은 거의 관계임)

- E-R 다이어그램에서 `마름모`로 표현

  ![image-20231005184952101]({{site.url}}/images/2023-09-27-data4/image-20231005184952101.png)

   

### 개체 - 관계 모델

#### 관계의 유형 

- 관계에 참여하는 개체 타입의 수 기준

| 이항 관계     | 개체 타입 두 개가 맺는 관계                |
| ------------- | ------------------------------------------ |
| **삼항 관계** | **개체 타입 세 개가 맺는 관계**            |
| **순환 관계** | **개체 타입 하나가 자기 자신과 맺는 관계** |



#### 관계의 유형 - 매핑 카디널리티 기준

매핑 카디널리티

➡️ 관계를 맺는 두 개체 집합에서, 각 개체 인스턴스가 연관성을 맺고 있는 

​	상대 개체 집합의 인스턴스 개수 



1. 일대일(1:1) 관계

   - 개체 A(B)의 각 개체 인스턴스가  개체 B(A)의 개체 인스턴스 하나와 관계를 맺을 수 있다.

   ![image-20231005185720898]({{site.url}}/images/2023-09-27-data4/image-20231005185720898.png)

2. 일대다(1:n) 관계

   - 개체 A의 각 개체 인스턴스가  개체 B의 개체 인스턴스 여러 개와 관계를 맺을 수 있다.
   - 개체 B의 각 개체 인스턴스가  개체 A의 개체 인스턴스 하나와 관계를 맺을 수 있다.

   ![image-20231005185920132]({{site.url}}/images/2023-09-27-data4/image-20231005185920132.png)

3. 다대다(n:n) 관계

   - 개체 A(B)의 각 개체 인스턴스가  개체 B(A)의 개체 인스턴스 여러 개와 관계를 맺을 수 있다.

   ![image-20231005190040195]({{site.url}}/images/2023-09-27-data4/image-20231005190040195.png)

#### 관계의 참여 특성

1. 필수적 참여(전체 참여) - `이중선`으로 표현함

   	-  모든 개체 인스턴스가 관계에 반드시 참여해야 되는 것

   😮 고객 개체가 책 개체와의 구매 관계에 필수적 참여

   ​	➡️ 모든 고객은 반드시 책을 구매해야 한다

2. 선택적 참여(부분 참여)

   - 개체 인스턴스 중 일부만 관계에 참여해도 되는 것

     😮 책 개체가 고객 개체와의 구매 관계에 선택적으로 참여

     ​	➡️ 고객이 구매하지 않은 책이 존재할 수 있다.

   ![image-20231005190515793]({{site.url}}/images/2023-09-27-data4/image-20231005190515793.png)

#### 관계의 종속성

##### ⭐ 약한 개체(weak entity) 

- 다른 개체의 존재 여부에 `의존`적인 개체 
- 다른 개체에 딸려있는 개체임 
- `이중 사각형`으로 표현

##### ⭐ 강한 개체(strong entity) 

- 다른 개체의 존재 여부를 `결정`하는 개체

약한 개체가 강한 개체와 맺는 관계는 `이중 마름모`로 표현 



##### 특징

1. 강한 개체와 약한 개체는 일반적으로 `일대다의 관계`를 가지고,

​	약한 개체는 강한 개체와의 관계에 `필수적`으로 참여 

2. 약한 개체는 `강한 개체의 키를 포함해서 키를 구성`함 

![image-20231005191141153]({{site.url}}/images/2023-09-27-data4/image-20231005191141153.png)



| 사각형       | 개체                             |
| ------------ | -------------------------------- |
| 마름모       | 관계                             |
| 타원         | 속성                             |
| 링크(연결성) | 각 요소를 연결                   |
| 레이블       | 일대일, 일대다, 다대다 관계 표기 |

![image-20231005191331819]({{site.url}}/images/2023-09-27-data4/image-20231005191331819.png)



## 03. 논리적 데이터 모델의 개념

1. E-R 다이어그램으로 표현된 개념적 구조를 db에 저장할 형태로 표현한 논리적 구조

   ➡️ DB의 논리적 구조 = DB의 스키마

2. 사용자가 생각하는 DB의 모습 또는 구조

### ⭐⭐관계 데이터 모델 - 5장에서 다룸

- 일반적으로 많이 사용되는 논리적 데이터 모델
- DB의 논리적 구조가 `2차원 테이블 형태`

![image-20231005191941759]({{site.url}}/images/2023-09-27-data4/image-20231005191941759.png)

### 계층 데이터 모델(hierarchical data model)

- db의 논리적 구조 -> `트리` 형태
- 루트 역할을 하는 개체 존재하고 사이클 존재 안함
- 개체 간 상/하 관계 성립
  - 부모/자식 개체
  - 부모/ 자식 개체는 일대다 관계만 허용
- 두 개체 사이 하나의 관계만 정의
- 다대다 관계를 `직접` 표현할 수 없음
- 개념적 구조를 모델링하기 어려워 구조 복잡함
- 데이터 삽입,삭제,수정,검색이 쉽지 않음

![image-20231005192248746]({{site.url}}/images/2023-09-27-data4/image-20231005192248746.png)

![image-20231005192329207]({{site.url}}/images/2023-09-27-data4/image-20231005192329207.png)

### 네트워크 데이터 모델

- db의 논리적 구조 -> `그래프` 형태
- 개체 간 `일대다 관계`만 허용
  - 오너(owner) / 멤버(member)
- 두 개체 사이에 여러 관계를 정의할 수 있어 이름으로 구별함
- 다대다 관계 직접 표현 못함
- 구조 복잡 , 데이터 삽입,수정,삭제,검색 쉽지 않음

![image-20231005192605099]({{site.url}}/images/2023-09-27-data4/image-20231005192605099.png)
